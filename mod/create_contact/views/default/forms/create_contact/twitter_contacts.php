<style type="text/css">

table {
    border-collapse: collapse;
    border-spacing: 0;
}

a {
    color: #0069D6;
    font-weight: inherit;
    line-height: inherit;
    text-decoration: none;
}
a:hover {
    color: #00438A;
    text-decoration: underline;
}
.row:after {
    clear: both;
}
[class*="span"] {
    display: inline;
    float: left;
    margin-left: 20px;
}

label, input, select, textarea {
    font-family: "Helvetica Neue",Helvetica,Arial,sans-serif;
    font-size: 13px;
    font-weight: normal;
    line-height: normal;
}
label {
    color: #404040;
    float: left;
    font-size: 13px;
    line-height: 18px;
    padding-top: 6px;
    text-align: right;
    width: 130px;
}
form .input {
    margin-left: 150px;
}
input[type="checkbox"], input[type="radio"] {
    cursor: pointer;
}
input, textarea, select, .uneditable-input {
    border: 1px solid #CCCCCC;
    border-radius: 3px 3px 3px 3px;
    color: #808080;
    display: inline-block;
    font-size: 13px;
    height: 18px;
    line-height: 18px;
    padding: 4px;
    width: 210px;
}
input[type="checkbox"], input[type="radio"] {
    border: medium none;
    height: auto;
    line-height: normal;
    margin: 3px 0;
    padding: 0;
    width: auto;
}
input[type="file"] {
    background-color: #FFFFFF;
    box-shadow: none;
}
input[type="button"], input[type="reset"], input[type="submit"] {
    height: auto;
    width: auto;
}
select, input[type="file"] {
    height: 27px;
    line-height: 27px;
}
select[multiple] {
    height: inherit;
}
textarea {
    height: auto;
}
.uneditable-input {
    background-color: #FFFFFF;
    border-color: #EEEEEE;
    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.024) inset;
    cursor: not-allowed;
    display: block;
}
:-moz-placeholder {
    color: #BFBFBF;
}
input, textarea {
    -moz-transition: border 0.2s linear 0s, box-shadow 0.2s linear 0s;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1) inset;
}
input:focus, textarea:focus {
    border-color: rgba(82, 168, 236, 0.8);
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1) inset, 0 0 8px rgba(82, 168, 236, 0.6);
    outline: 0 none;
}
input[type="file"]:focus, input[type="checkbox"]:focus, select:focus {
    box-shadow: none;
    outline: 1px dotted #666666;
}
form div.clearfix.error {
    background: none repeat scroll 0 0 #FAE5E3;
    border-radius: 4px 4px 4px 4px;
    margin: -10px 0 10px;
    padding: 10px 0;
}
form div.clearfix.error > label, form div.clearfix.error span.help-inline, form div.clearfix.error span.help-block {
    color: #9D261D;
}
form div.clearfix.error input, form div.clearfix.error textarea {
    border-color: #C87872;
    box-shadow: 0 0 3px rgba(171, 41, 32, 0.25);
}
form div.clearfix.error input:focus, form div.clearfix.error textarea:focus {
    border-color: #B9554D;
    box-shadow: 0 0 6px rgba(171, 41, 32, 0.5);
}
form div.clearfix.error .input-prepend span.add-on, form div.clearfix.error .input-append span.add-on {
    background: none repeat scroll 0 0 #F4C8C5;
    border-color: #C87872;
    color: #B9554D;
}
.input-mini, input.mini, textarea.mini, select.mini {
    width: 60px;
}
.input-small, input.small, textarea.small, select.small {
    width: 90px;
}
.input-medium, input.medium, textarea.medium, select.medium {
    width: 150px;
}
.input-large, input.large, textarea.large, select.large {
    width: 210px;
}
.input-xlarge, input.xlarge, textarea.xlarge, select.xlarge {
    width: 270px;
}
.input-xxlarge, input.xxlarge, textarea.xxlarge, select.xxlarge {
    width: 530px;
}
textarea.xxlarge {
    overflow-y: auto;
}
input.span1, textarea.span1, select.span1 {
    display: inline-block;
    float: none;
    margin-left: 0;
    width: 30px;
}
input.span2, textarea.span2, select.span2 {
    display: inline-block;
    float: none;
    margin-left: 0;
    width: 90px;
}
input.span3, textarea.span3, select.span3 {
    display: inline-block;
    float: none;
    margin-left: 0;
    width: 150px;
}
input.span4, textarea.span4, select.span4 {
    display: inline-block;
    float: none;
    margin-left: 0;
    width: 210px;
}
input.span5, textarea.span5, select.span5 {
    display: inline-block;
    float: none;
    margin-left: 0;
    width: 270px;
}
input.span6, textarea.span6, select.span6 {
    display: inline-block;
    float: none;
    margin-left: 0;
    width: 330px;
}
input.span7, textarea.span7, select.span7 {
    display: inline-block;
    float: none;
    margin-left: 0;
    width: 390px;
}
input.span8, textarea.span8, select.span8 {
    display: inline-block;
    float: none;
    margin-left: 0;
    width: 450px;
}
input.span9, textarea.span9, select.span9 {
    display: inline-block;
    float: none;
    margin-left: 0;
    width: 510px;
}
input.span10, textarea.span10, select.span10 {
    display: inline-block;
    float: none;
    margin-left: 0;
    width: 570px;
}
input.span11, textarea.span11, select.span11 {
    display: inline-block;
    float: none;
    margin-left: 0;
    width: 630px;
}
input.span12, textarea.span12, select.span12 {
    display: inline-block;
    float: none;
    margin-left: 0;
    width: 690px;
}
input.span13, textarea.span13, select.span13 {
    display: inline-block;
    float: none;
    margin-left: 0;
    width: 750px;
}
input.span14, textarea.span14, select.span14 {
    display: inline-block;
    float: none;
    margin-left: 0;
    width: 810px;
}
input.span15, textarea.span15, select.span15 {
    display: inline-block;
    float: none;
    margin-left: 0;
    width: 870px;
}
input.span16, textarea.span16, select.span16 {
    display: inline-block;
    float: none;
    margin-left: 0;
    width: 930px;
}
input[disabled], select[disabled], textarea[disabled], input[readonly], select[readonly], textarea[readonly] {
    background-color: #F5F5F5;
    border-color: #DDDDDD;
    cursor: not-allowed;
}
.actions {
    background: none repeat scroll 0 0 #F5F5F5;
    border-radius: 0 0 3px 3px;
    border-top: 1px solid #DDDDDD;
    margin-bottom: 18px;
    margin-top: 18px;
    padding: 17px 20px 18px 150px;
}
.actions .secondary-action {
    float: right;
}
.actions .secondary-action a {
    line-height: 30px;
}
.actions .secondary-action a:hover {
    text-decoration: underline;
}
.help-inline, .help-block {
    color: #BFBFBF;
    font-size: 11px;
    line-height: 18px;
}
.help-inline {
    padding-left: 5px;
}
.help-block {
    display: block;
    max-width: 600px;
}
.inline-inputs {
    color: #808080;
}
.inline-inputs span, .inline-inputs input {
    display: inline-block;
}
.inline-inputs input.mini {
    width: 60px;
}
.inline-inputs input.small {
    width: 90px;
}
.inline-inputs span {
    padding: 0 2px 0 1px;
}
.input-prepend input, .input-append input {
    border-radius: 0 3px 3px 0;
}
.input-prepend .add-on, .input-append .add-on {
    background: none repeat scroll 0 0 #F5F5F5;
    border: 1px solid #CCCCCC;
    border-radius: 3px 0 0 3px;
    color: #BFBFBF;
    display: block;
    float: left;
    font-weight: normal;
    height: 18px;
    line-height: 18px;
    margin-right: -1px;
    min-width: 16px;
    padding: 4px 4px 4px 5px;
    position: relative;
    text-align: center;
    text-shadow: 0 1px 0 #FFFFFF;
    width: auto;
    z-index: 2;
}
.input-prepend .active, .input-append .active {
    background: none repeat scroll 0 0 #A9DBA9;
    border-color: #46A546;
}
.input-prepend .add-on {
}
.input-append input {
    border-radius: 3px 0 0 3px;
    float: left;
}
.input-append .add-on {
    border-radius: 0 3px 3px 0;
    margin-left: -1px;
    margin-right: 0;
}
.inputs-list {
    margin: 0 0 5px;
    width: 100%;
}
.inputs-list li {
    display: block;
    padding: 0;
    width: 100%;
}
.inputs-list label {
    display: block;
    float: none;
    line-height: 18px;
    padding: 0;
    text-align: left;
    white-space: normal;
    width: auto;
}
.inputs-list label strong {
    color: #808080;
}
.inputs-list label small {
    font-size: 11px;
    font-weight: normal;
}
.inputs-list .inputs-list {
    margin-bottom: 10px;
    margin-left: 25px;
    padding-top: 0;
}
.inputs-list:first-child {
    padding-top: 6px;
}
.inputs-list li + li {
    padding-top: 2px;
}
.inputs-list input[type="radio"], .inputs-list input[type="checkbox"] {
    margin-bottom: 0;
}
.form-stacked {
    padding-left: 20px;
}
.form-stacked fieldset {
    padding-top: 9px;
}
.form-stacked legend {
    padding-left: 0;
}
.form-stacked label {
    display: block;
    float: none;
    font-weight: bold;
    line-height: 20px;
    padding-top: 0;
    text-align: left;
    width: auto;
}
.form-stacked .clearfix {
    margin-bottom: 9px;
}
.form-stacked .clearfix div.input {
    margin-left: 0;
}
.form-stacked .inputs-list {
    margin-bottom: 0;
}
.form-stacked .inputs-list li {
    padding-top: 0;
}
.form-stacked .inputs-list li label {
    font-weight: normal;
    padding-top: 0;
}
.form-stacked div.clearfix.error {
    margin-left: -10px;
    margin-top: 0;
    padding-bottom: 10px;
    padding-left: 10px;
    padding-top: 10px;
}
.form-stacked .actions {
    margin-left: -20px;
    padding-left: 20px;
}
table {
    border: 1px solid #DDDDDD;
    border-collapse: separate;
    border-radius: 4px 4px 4px 4px;
    font-size: 13px;
    margin-bottom: 18px;
    padding: 0;
    width: 100%;
}
table th, table td {
    line-height: 18px;
    padding: 10px 10px 9px;
    text-align: left;
}
table th {
    border-bottom: 1px solid #DDDDDD;
    font-weight: bold;
    padding-top: 9px;
    vertical-align: middle;
}
table td {
    vertical-align: top;
}
table th + th, table td + td {
    border-left: 1px solid #DDDDDD;
}
table tr + tr td {
    border-top: 1px solid #DDDDDD;
}
table tbody tr:first-child td:first-child {
    border-radius: 4px 0 0 0;
}
table tbody tr:first-child td:last-child {
    border-radius: 0 4px 0 0;
}
table tbody tr:last-child td:first-child {
    border-radius: 0 0 0 4px;
}
table tbody tr:last-child td:last-child {
    border-radius: 0 0 4px 0;
}
.zebra-striped tbody tr:nth-child(2n+1) td {
    background-color: #F9F9F9;
}
.zebra-striped tbody tr:hover td {
    background-color: #F5F5F5;
}
table .header {
    cursor: pointer;
}
table .header:after {
    border-color: #000000 transparent;
    border-style: solid;
    border-width: 0 4px 4px;
    content: "";
    float: right;
    margin-top: 7px;
    visibility: hidden;
}
table .headerSortUp, table .headerSortDown {
    background-color: rgba(141, 192, 219, 0.25);
    text-shadow: 0 1px 1px rgba(255, 255, 255, 0.75);
}
table .header:hover:after {
    visibility: visible;
}
table .headerSortDown:after, table .headerSortDown:hover:after {
    opacity: 0.6;
    visibility: visible;
}
table .headerSortUp:after {
    border-color: #000000 transparent -moz-use-text-color;
    border-style: solid solid none;
    border-width: 4px 4px medium;
    box-shadow: none;
    opacity: 0.6;
    visibility: visible;
}
table .blue {
    border-bottom-color: #049CDB;
    color: #049CDB;
}
table .headerSortUp.blue, table .headerSortDown.blue {
    background-color: #ADE6FE;
}
table .green {
    border-bottom-color: #46A546;
    color: #46A546;
}
table .headerSortUp.green, table .headerSortDown.green {
    background-color: #CDEACD;
}
table .red {
    border-bottom-color: #9D261D;
    color: #9D261D;
}
table .headerSortUp.red, table .headerSortDown.red {
    background-color: #F4C8C5;
}
table .yellow {
    border-bottom-color: #FFC40D;
    color: #FFC40D;
}
.label.success {
    background-color: #46A546;
}
.label {
    background-color: #BFBFBF;
    border-radius: 3px 3px 3px 3px;
    color: #FFFFFF;
    font-size: 9.75px;
    font-weight: bold;
    padding: 1px 3px 2px;
    text-transform: uppercase;
    white-space: nowrap;
}
</style>
<?php
	/**
	 By Rijo Joy
	 */

/* Adding Tabs */

$tabs = array(
	'tab1' => array(
		'title' => elgg_echo('Facebook Import'),
		'url' => "create_contact/facebook_contacts",
		'selected' => $vars['selected'] == 'tab1',
	),
	'tab2' => array(
		'title' => elgg_echo('GMAIL Import'),
		'url' => "create_contact/gmail_contacts",
		'selected' => $vars['selected'] == 'tab2',
	),
	'tab3' => array(
		'title' => elgg_echo('Twitter Import'),
		'url' => "create_contact/twitter_contacts",
		'selected' => $vars['selected'] == 'tab3',
	),
	'tab4' => array(
		'title' => elgg_echo('Salesforce Import'),
		'url' => "create_contact/sf_contacts",
		'selected' => $vars['selected'] == 'tab3',
	),
	'tab5' => array(
		'title' => elgg_echo('LINKEDIN Import'),
		'url' => "create_contact/li_contacts",
		'selected' => $vars['selected'] == 'tab3',
	)
);

echo elgg_view('navigation/tabs', array('tabs' => $tabs));

/* End of Adding Tabs */

require_once( elgg_get_plugins_path() . 'elgg_social_login/vendors/hybridauth/Hybrid/Auth.php' ); 
$config_array = array(
"base_url" => 'http://localhost/mib/mod/elgg_social_login/vendors/hybridauth/',
"providers" => array (
"Twitter" => array (
"enabled" => true, "keys" => array ( "key" => "eAuh2QUBQ5BPWtYOY5KYQ", "secret" => "mxsJuy5kiB1MtaRsFUpZXAAx3jWiN9gyzRS07j63l4" )
),
"Facebook" => array (
"enabled" => true, "keys" => array ( "id" => "194467560664484", "secret" => "123ad69116cffe0e0360e3aadad23f7c" )
),
"Linkedin" => array (
"enabled" => true, "keys" => array ( "key" => "t89qm92o805p", "secret" => "gud8pQ17tHfu53mA" )
),
"OpenID" => array (
"enabled" => false
)
)
);

//echo elgg_echo('Facebook Contacts');
$hybridauth = new Hybrid_Auth( $config_array );
$facebook_adapter = $hybridauth->authenticate( "Twitter" );
// get the user profile
$facebook_profile = $facebook_adapter->getUserProfile();
// get user contacts

$facebook_contacts = $facebook_adapter->getUserContacts();

$connected = $facebook_adapter->isUserConnected();
if($connected == false)
{
$facebook_adapter->logout();
}
//echo '<pre>';
//print_r($facebook_contacts);
echo '<table>';
foreach ($facebook_contacts as $facebook_contact)
{
	
	echo '<tr>';
	echo '<td width="55">';
	echo '<input type="checkbox" name="id[]" />';
	echo '<img src="'.$facebook_contact->photoURL.'" style="border: 1px solid #888888; padding: 5px;" />';
	echo '<td>';
	echo '<a href="'.$facebook_contact->profileURL.'" target="_blank">'.$facebook_contact->displayName.' &nbsp;<span class="label success">User ID:'. $facebook_contact->identifier.'</span><br><br>';
	echo '<em>'.$facebook_contact->profileURL.'</em>';
	echo '</td>';
	
}
echo '</table>';
?>